import { Callout } from 'nextra/components'

# REST API

Stump exposes a REST API that allows you to interact with your Stump server.

## Stump SDK

Stump provides a [TypeScript SDK](https://github.com/stumpapp/stump/tree/main/packages/sdk) that you can use to create your own applications and integrations with Stump. If the demand is high enough, I will prioritize a proper NPM publish workflow. For the time being, you can load the dependency using something like [gitpkg](https://gitpkg.vercel.app/).

```bash
yarn add 'https://gitpkg.now.sh/stumpapp/stump/packages/sdk?main'
```

Then use the SDK in your application like so:

```typescript
import { Api } from '@stump/sdk'

const sdk = new Api({
	baseURL: 'http://localhost:10801',
	// You may also use 'session' if you configure it properly
	authMethod: 'token',
})

// A token will be managed for you in-memory, but you can store it yourself
// using the returned `LoginResponse` object
await sdk.auth.login({
	username: 'oromei',
	password: 'password',
})

const favoriteBook = await sdk.media.get({
	name: ['The Cybernetic Tea Shop'],
	limit: 1,
})
```

A full SDK guide will be available in the future to better support these integrations.

## Authentication

### Sessions

Stump uses server-side sessions to authenticate users. These sessions are stored in the database, and are automatically cleaned up within 60 seconds of expiring. You can change the expiry cleanup check interval by setting the `SESSION_EXPIRY_CLEANUP_INTERVAL` environment variable. See the [configuration guide](/guides/configuration) for more information.

### Basic Authentication

<Callout emoji="ðŸ”">
	This functionality is only available on OPDS endpoints. You cannot authenticate with Basic
	Authentication on the REST API
</Callout>

Stump supports [Basic Authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication) in order to properly support OPDS clients. Authenticating using this method will still create a server-side session for you.

### JWT Access Tokens

Short-lived JWT access tokens are available for API access, aimed at better enabling third-party applications and extensions to interact with Stump. While you can generate these tokens and use them to authenticate API requests, **the API is still in development and subject to change**.

## Swagger UI

Stump's REST API is documented using Swagger. You can access Swagger UI by visiting visiting `http(s)://your-server(:10801)/swagger-ui`. If you aren't familiar with Swagger, you can read more about it [here](https://swagger.io/). Under the hood, Stump uses [utoipa](https://github.com/juhaku/utoipa) for semi-automated Swagger generation. If you find any issues or inconsistencies with the API options available while using the Swagger UI, please open an [issue](https://github.com/stumpapp/stump/issues) outlining the problem.

### Disabling Swagger UI

If you don't want to expose Swagger UI, you can disable it by setting the `ENABLE_SWAGGER_UI` environment variable to `false`. See the [configuration guide](/guides/configuration) for more information.

```

```
