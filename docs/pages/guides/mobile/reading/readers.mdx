import { Callout } from 'nextra/components'
import InlineIconButton from '../../../../components/InlineIconButton'
import { X, CircleEllipsis } from 'lucide-react'

# Readers

The mobile app provides a few different readers with unique experiences tailored to the format of the book you're reading

## Preferences

Each reader has specific settings and preferences that are configurable. These settings may be set globally for all books, and overridden on a per-book basis. If you change a setting for a specific book, it will only apply to that book.

There are a few settings that are common to all readers:

### Incognito

When enabled, the app will not save your reading progress. This wouldnt affect bookmarks or annotations, just the progress of the book.

### Reading Direction

You may set `LTR` (left-to-right) or `RTL` (right-to-left) reading direction.

{/* If the reader supports a veritcal presentation, these are analogous to `TTB` (top-to-bottom) and `BTT` (bottom-to-top). */}

### Reading Timer

When enabled, the app will track the time you spend reading each book in seconds. This will even sync across devices!

<Callout emoji="ℹ️" type="info">
	The app supports reading timers for all server configurations, but syncing is only available when
	using a Stump server
</Callout>

#### Disabling

If you disable the reading timer while reading a book, it is effectively pausing the timer. If you re-enable it, the timer will resume from where it left off. If you disable the timer globally and start reading a book, the timer will not start.

#### Resetting

You may reset the reading timer for a book at any time. This will reset the timer to 0 seconds

## Comics / Manga / Image-based Books

Any format that is image-based will generally use the same image-based reader. This includes formats like `.cbz`/`.zip` and `.cbr`/`.rar` files that contain images of the pages. PDF files are considered here as well, at least from Stump server sources.

### Basics

The image-based reader has an overlay that presents when you click the center-portion of the screen. This overlay consists of 3 main sections:

1. The header, which contains an <InlineIconButton ><X /></InlineIconButton> to exit the reader, and a <InlineIconButton ><CircleEllipsis /></InlineIconButton> to open the quick settings menu
2. A center, gradient-filled area that you may tap to close the overlay
3. The footer, which contains controls for navigation and information about the position and reading progress

#### Flow

The image-based reader has a few flows that you can use to customize your reading experience:

- Paged
- Horizontal scroll
- Vertical scroll

<Callout emoji="⚠️" type="warning">
	Image zooming is funky when using the horizontal scroll flow. This is a known issue and will be
	addressed in a future release
</Callout>

#### Image Options

There are a few options specific to the images rendered you can adjust

##### Cache Policy

You may specify a policy of either `Memory & Disk` (default), `Disk`, `Memory`, or `None`. This is exposed in case you have specific performance needs (or leeway) for your device. While `None` is available, it is not recommended.

##### Double Paged

You may specify a double page behavior of:

- `Auto` (default) - The app will attempt to use double pages when possible
- `Always` - Always use double pages, scaling the images to fit the screen
- `Off` - Never use double pages

<Callout emoji="⚠️" type="warning">
	This setting is not yet available and subject to change
</Callout>

##### Image Scaling

You may specify an image scaling behavior of:

- `Fit Width` (default) - The image will be scaled to fit the width of the screen
- `Fit Height` - The image will be scaled to fit the height of the screen
- `None` - The image will be displayed at its original size

##### Downscale Images

You may enable or disable downscaling of images. Downscaling may improve performance on older devices, but may reduce image quality.

#### Navigation

##### Tap Sides to Navigate

You may enable this setting to navigate to the next or previous page by tapping the left or right side of the screen, abiding by the reading direction.

##### Bottom Controls

The app supports two different bottom control layouts:

1. Slider - A slider that you can drag to navigate through the book. An image preview will be displayed as you drag
2. Image Gallery - A swipeable gallery of thumbnails that you can tap to navigate to a specific page

<Callout emoji="⚠️" type="warning">
	This setting is not yet available and subject to change
</Callout>

## Ebook Reader

<Callout emoji="⚠️" type="warning">
	The ebook reader provides really poor UX. It is recommended to use a different reader until this
	is improved. It is planned for a future release!
</Callout>

> Documentation will be added when the reader is improved
